# コレクション

コレクション型は、任意のプログラミング言語の基本的な部分です。これらは、アイテムのリストなど、
データのコレクションを格納するために使用されます。`vector`型はすでに
[ベクターセクション](./../move-basics/vector)で説明されていますが、この章では
[Sui Framework](./sui-framework)が提供するベクターベースのコレクション型について説明します。

## Vector

`vector`型はすでに[ベクターセクション](./../move-basics/vector)で説明しましたが、
新しい文脈で再度確認する価値があります。今回は、オブジェクトでの`vector`型の使用と、
アプリケーションでどのように使用できるかについて説明します。

```move file=packages/samples/sources/programmability/collections.move anchor=vector

```

## VecSet

`VecSet`は、一意のアイテムのセットを格納するコレクション型です。`vector`と似ていますが、
重複するアイテムを許可しません。この特性により、IDやアドレスのリストなど、
一意のアイテムのコレクションを格納するのに役立ちます。

```move file=packages/samples/sources/programmability/collections-2.move anchor=vec_set

```

VecSetは、セットにすでに存在するアイテムを挿入しようとすると失敗します。

## VecMap

`VecMap`は、キーと値のペアのマップを格納するコレクション型です。`VecSet`と似ていますが、
セット内の各アイテムに関連する値を関連付けることができます。これにより、
アドレスとそのバランスのリスト、またはユーザーIDとその関連データのリストなど、
キーと値のペアのコレクションを格納するのに役立ちます。

`VecMap`のキーは一意であり、各キーは単一の値とのみ関連付けることができます。
マップにすでに存在するキーでキーと値のペアを挿入しようとすると、
古い値が新しい値に置き換えられます。

```move file=packages/samples/sources/programmability/collections-3.move anchor=vec_map

```

## 制限

標準のコレクション型は、保証された安全性と一貫性で型付きデータを格納する優れた方法です。
ただし、格納できるデータの型によって制限されています - 型システムは
コレクションに間違った型を格納することを許可しません。また、サイズによっても制限されています
- オブジェクトサイズ制限によってです。これらは比較的小さなサイズのセットやリストには
機能しますが、より大きなコレクションの場合は、異なるアプローチが必要になるかもしれません。

コレクション型のもう一つの制限は、それらを比較できないことです。挿入の順序が
保証されていないため、`VecSet`を別の`VecSet`と比較しようとすると、
期待される結果が得られない可能性があります。

> この動作はリンターによって検出され、警告が出力されます：_型'sui::vec_set::VecSet'の
> コレクションを比較すると予期しない結果が生じる可能性があります_

```move file=packages/samples/sources/programmability/collections-4.move anchor=vec_set_comparison

```

上記の例では、挿入の順序が保証されていないため、比較は失敗します。
2つの`VecSet`インスタンスは異なる要素の順序を持つ可能性があります。
そして、2つの`VecSet`インスタンスが同じ要素を含んでいる場合でも、比較は失敗します。

## まとめ

- Vectorは、アイテムのリストを格納できるネイティブ型です。
- VecSetはvectorの上に構築され、一意のアイテムのセットを格納できます。
- VecMapは、マップのような構造でキーと値のペアを格納するために使用されます。
- ベクターベースのコレクションは厳密に型付けされており、オブジェクトサイズ制限によって
  制限されており、小さなサイズのセットやリストに最適です。

## 次のステップ

次のセクションでは、[Wrapper Type Pattern](./wrapper-type-pattern)について説明します
- コレクション型と組み合わせて、その動作を拡張または制限するために使用される
  デザインパターンです。
